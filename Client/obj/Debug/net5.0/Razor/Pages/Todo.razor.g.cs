#pragma checksum "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "1ba4f38076650312521282c25b838b37204987bd"
// <auto-generated/>
#pragma warning disable 1591
namespace ToDo.Client.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using ToDo.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using ToDo.Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\_Imports.razor"
using Plk.Blazor.DragDrop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
using ToDo.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
using ToDo.Shared.Utils;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    [Microsoft.AspNetCore.Components.RouteAttribute("/todo")]
    public partial class Todo : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "main");
            __builder.OpenElement(2, "div");
            __builder.AddAttribute(3, "class", "container-fluid ");
            __builder.AddAttribute(4, "id", "page-content");
            __builder.OpenElement(5, "div");
            __builder.AddAttribute(6, "class", "padding");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "row  d-flex justify-content-start add-title-container");
            __builder.OpenElement(9, "div");
            __builder.AddAttribute(10, "class", "col-xs-12 col-sm-12 col-md-6 col-lg-6");
            __builder.OpenElement(11, "div");
            __builder.AddAttribute(12, "class", "d-flex");
            __builder.OpenElement(13, "input");
            __builder.AddAttribute(14, "class", "form-control form-control-lg add-text");
            __builder.AddAttribute(15, "type", "text");
            __builder.AddAttribute(16, "placeholder", "Title for ToDo");
            __builder.AddAttribute(17, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 16 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                                      newTodoTitle

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(18, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => newTodoTitle = __value, newTodoTitle));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(19, "\r\n\r\n                        ");
            __builder.OpenElement(20, "button");
            __builder.AddAttribute(21, "type", "button");
            __builder.AddAttribute(22, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 19 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                        AddTodoTitle

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(23, "disabled", 
#nullable restore
#line 19 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                  string.IsNullOrWhiteSpace(newTodoTitle)

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(24, "class", "btn btn-outline-success btn-lg");
            __builder.AddContent(25, "Add Title");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 25 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
             if(ShowLoading) {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<ToDo.Client.Shared.LoadingScreen>(26);
            __builder.CloseComponent();
#nullable restore
#line 27 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
            }
            else {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(27, "div");
            __builder.AddAttribute(28, "class", "row");
            __builder.OpenElement(29, "div");
            __builder.AddAttribute(30, "class", "col-md-12");
            __builder.OpenElement(31, "div");
            __builder.AddAttribute(32, "class", "container-fluid no-padding");
            __builder.OpenElement(33, "div");
            __builder.AddAttribute(34, "class", "card-columns");
            __builder.OpenComponent<Plk.Blazor.DragDrop.Dropzone<Category>>(35);
            __builder.AddAttribute(36, "Items", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.IList<Category>>(
#nullable restore
#line 33 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                             ToDoList

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(37, "InstantReplace", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 33 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                       true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(38, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Category>)((context) => (__builder2) => {
#nullable restore
#line 34 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                  
                                    var todoCategory = @context;
                                    
                                

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(39, "div");
                __builder2.AddAttribute(40, "class", "card text-white bg-dark");
#nullable restore
#line 39 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                     if(ShowEditBox && todoCategory.CategoryID == currentCatID){

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(41, "div");
                __builder2.AddAttribute(42, "class", "card-header d-flex justify-content-between align-items-center");
                __builder2.OpenElement(43, "input");
                __builder2.AddAttribute(44, "class", "form-control add-text");
                __builder2.AddAttribute(45, "type", "text");
                __builder2.AddAttribute(46, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 41 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                                          updateTodoTitle

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(47, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => updateTodoTitle = __value, updateTodoTitle));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(48, "\r\n                                            ");
                __builder2.OpenElement(49, "h6");
                __builder2.OpenElement(50, "i");
                __builder2.AddAttribute(51, "class", "title-action-icon oi oi-check");
                __builder2.AddAttribute(52, "data-toggle", "tooltip");
                __builder2.AddAttribute(53, "data-placement", "bottom");
                __builder2.AddAttribute(54, "title", "Update");
                __builder2.AddAttribute(55, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 44 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                            ()=>UpdateTodoTitle(todoCategory)

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseElement();
                __builder2.AddMarkupContent(56, "\r\n                                                ");
                __builder2.OpenElement(57, "i");
                __builder2.AddAttribute(58, "class", "title-action-icon oi oi-circle-x");
                __builder2.AddAttribute(59, "data-toggle", "tooltip");
                __builder2.AddAttribute(60, "data-placement", "bottom");
                __builder2.AddAttribute(61, "title", "Close");
                __builder2.AddAttribute(62, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 46 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                            ()=>ToggleTitleEdit(todoCategory, todoCategory.CategoryID, false)

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 49 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                    }
                                    else{                                        


#line default
#line hidden
#nullable disable
                __builder2.OpenElement(63, "div");
                __builder2.AddAttribute(64, "class", "card-header  d-flex justify-content-between align-items-center");
                __builder2.AddContent(65, 
#nullable restore
#line 53 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                             context.Title

#line default
#line hidden
#nullable disable
                );
                __builder2.AddMarkupContent(66, "\r\n                                            ");
                __builder2.OpenElement(67, "h6");
                __builder2.OpenElement(68, "button");
                __builder2.AddAttribute(69, "type", "button");
                __builder2.AddAttribute(70, "class", "btn btn-outline-light ");
                __builder2.AddAttribute(71, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 56 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                            ()=>ToggleTitleEdit(todoCategory, todoCategory.CategoryID, true)

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddMarkupContent(72, "<i class=\"oi oi-pencil\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Edit\"></i>");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(73, "\r\n                                                ");
                __builder2.OpenElement(74, "button");
                __builder2.AddAttribute(75, "type", "button");
                __builder2.AddAttribute(76, "class", "btn btn-outline-danger ");
                __builder2.AddAttribute(77, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 60 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                        ()=>DeleteTodoSection(todoCategory.CategoryID)

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddMarkupContent(78, "<i class=\"oi oi-trash\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Delete\"></i>");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 65 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                    }

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(79, "div");
                __builder2.AddAttribute(80, "class", "card-body");
                __builder2.OpenElement(81, "div");
                __builder2.AddAttribute(82, "class", "list-wrapper");
                __builder2.OpenElement(83, "div");
                __builder2.AddAttribute(84, "class", "todo-list");
#nullable restore
#line 72 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                     if(@context.ToDo != null ){

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(85, "ul");
#nullable restore
#line 74 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                         foreach (var items in todoCategory.ToDo)
                                                        {   

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(86, "li");
                __builder2.AddAttribute(87, "class", 
#nullable restore
#line 76 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                         items.CompletedCssClass

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(88, "id", 
#nullable restore
#line 76 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                                       items.ItemID

#line default
#line hidden
#nullable disable
                );
                __builder2.OpenElement(89, "div");
                __builder2.AddAttribute(90, "class", "form-check col-md-10 col-lg-10 col-sm-10 col-xs-10");
                __builder2.AddAttribute(91, "style", "margin-left: 15px");
                __builder2.OpenElement(92, "label");
                __builder2.AddAttribute(93, "class", "form-check-label");
#nullable restore
#line 80 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                 if(items.Active == 1){

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(94, "input");
                __builder2.AddAttribute(95, "class", "checkbox");
                __builder2.AddAttribute(96, "type", "checkbox");
                __builder2.AddAttribute(97, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 81 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                                                                     (e) => TodoItemMarkComplete(items,todoCategory, e)

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseElement();
#nullable restore
#line 82 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                }
                                                                                else {


#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(98, "<input class=\"checkbox disabled\" type=\"checkbox\">");
#nullable restore
#line 86 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                }                                                                                  

#line default
#line hidden
#nullable disable
                __builder2.AddContent(99, 
#nullable restore
#line 88 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                 items.Title

#line default
#line hidden
#nullable disable
                );
                __builder2.AddMarkupContent(100, "\r\n                                                                                <i class=\"input-helper\"></i>");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(101, " \r\n                                                                            \r\n                                                                            \r\n                                                                            ");
                __builder2.OpenElement(102, "small");
                __builder2.AddAttribute(103, "class", "status-bottom float-right");
                __builder2.AddContent(104, 
#nullable restore
#line 93 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                                                      GetTodoItemStatus(items)

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(105, "\r\n                                                                        ");
                __builder2.OpenElement(106, "div");
                __builder2.AddAttribute(107, "class", "col-md-1 col-lg-1 col-sm-1 col-xs-1");
                __builder2.AddAttribute(108, "style", "padding:0px");
                __builder2.AddAttribute(109, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 96 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                                          ()=>DeleteToDoItem(items,todoCategory)

#line default
#line hidden
#nullable disable
                ));
#nullable restore
#line 97 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                 if(items.Active == 1) {
                                                                                

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(110, "<i class=\"remove oi oi-delete\"></i>");
#nullable restore
#line 100 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                } 
                                                                                else {
                                                                                    

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(111, "<i class=\"remove oi oi-action-undo\"></i>");
#nullable restore
#line 104 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                }                                                                        

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
#nullable restore
#line 107 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                        }

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
#nullable restore
#line 109 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                    }
                                                    else{

#line default
#line hidden
#nullable disable
                __builder2.AddMarkupContent(112, "<div class=\"alert alert-info mt-3 mb-3 pt-5 pb-5\" style=\"font-size: 13px;\">\r\n                                                            Please add your todo items here\r\n                                                        </div>");
#nullable restore
#line 114 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                    }

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.AddMarkupContent(113, "\r\n                                            ");
                __builder2.OpenElement(114, "div");
                __builder2.AddAttribute(115, "class", "todo-add d-flex");
                __builder2.OpenElement(116, "input");
                __builder2.AddAttribute(117, "class", "form-control");
                __builder2.AddAttribute(118, "type", "text");
                __builder2.AddAttribute(119, "placeholder", "Add items");
                __builder2.AddAttribute(120, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 117 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                                     newTodo

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(121, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => newTodo = __value, newTodo));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(122, "\r\n                                                \r\n                                                ");
                __builder2.OpenElement(123, "button");
                __builder2.AddAttribute(124, "type", "button");
                __builder2.AddAttribute(125, "disabled", 
#nullable restore
#line 120 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                                                   string.IsNullOrWhiteSpace(newTodo)

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(126, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 121 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
                                                              ()=> AddTodoItem(todoCategory, false)

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(127, "class", "btn btn-outline-success");
                __builder2.AddContent(128, "Add");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 136 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 146 "D:\USERS\RAFEEK\Work\Blazor\ToDo\Client\Pages\Todo.razor"
       
      
    private string newTodo, newTodoTitle, updateTodoTitle, currentCatID;
    private Category[] categories ;
    private Category newCat = new Category();
    public List<Category> ToDoList = null;
    
    private bool ShowLoading { get; set; }
    private bool ShowEditBox { get; set; }= false;
    

    protected override async Task OnInitializedAsync()
    {
        ShowLoading = true;
        ToDoList = new List<Category>();
        categories = await Http.GetFromJsonAsync<Category[]>("api/category");
        //await JSRuntime.InvokeVoidAsync("alert", System.Text.Json.JsonSerializer.Serialize(categories)); 
        if (categories != null ) {
            foreach (var category in categories){
                if (category.ToDo != null){
                    category.ToDo = category.ToDo.OrderBy(items => items.Completed).OrderByDescending(items=>items.Active).ToList();
                }
                 ToDoList.Add(category);
            }
             
        } 

        ShowLoading = false;

    }

    private void ToggleTitleEdit(Category cat, string catID, bool isShow) {
        if(cat.CategoryID == catID && isShow) {
            currentCatID = catID;
            updateTodoTitle = cat.Title;
            ShowEditBox = true;
        } 
        else {
            ShowEditBox = false;
            currentCatID = null;
            updateTodoTitle = "";
        }
        
        StateHasChanged();
    }

    private async Task UpdateTodoTitle(Category cat) {
        cat.Title = updateTodoTitle;
        updateTodoTitle = "";
        ShowEditBox=false;

        await Http.PutAsJsonAsync<Category>("api/category/"+cat.CategoryID, cat);
        await OnInitializedAsync();
    }

    private async Task DeleteTodoSection(string categoryID) {
        var confirm = await JSRuntime.InvokeAsync<bool>("deleteConfirmation", "Delete?", "Are you sure you want to delete this?", "question");
        if (confirm) {
            await Http.DeleteAsync("api/category/"+categoryID);
            await OnInitializedAsync();
            StateHasChanged();
        }
        
    }

    private async Task AddTodoTitle()
    {
      
        newCat = new  Category {
            Title= newTodoTitle,
            Active= 1,
            Sort= 1,
        };
         newTodoTitle = "";
        //await JSRuntime.InvokeVoidAsync("alert", System.Text.Json.JsonSerializer.Serialize(TimeUtils.ToUnixTimeSeconds())); 

        await Http.PostAsJsonAsync<Category>("api/category", newCat);
        await OnInitializedAsync();
        StateHasChanged();
       
        
    }

    private string GetTodoItemStatus(TodoItem item) {
        string itemStatus = "";

        if (item.Completed == 1) {
            itemStatus = "Completed";
        } else if (item.Active == 0){
            itemStatus = "Removed";
        }

        return itemStatus;
    }

    private bool TodoSelected(TodoItem item) {
        return (item.Completed == 1 ? true : false);
    }

    private async Task DeleteToDoItem(TodoItem item, Category cat) {
        //await JSRuntime.InvokeVoidAsync("alert", System.Text.Json.JsonSerializer.Serialize(item)); 
        item.Active = item.Active == 1 ? 0 : 1;
        if (item.Active == 0) {
            item.CompletedCssClass = item.CompletedCssClass + " deleted";
        } else {
            if(item.CompletedCssClass.Contains("deleted")){
                item.CompletedCssClass = item.CompletedCssClass.Replace(" deleted", "");
            }            
        }

        await AddTodoItem(cat, true);
    }

    private async Task TodoItemMarkComplete(TodoItem item, Category cat, ChangeEventArgs e) {        
        item.Completed = ((bool)e.Value)  ? 1: 0;
        item.CompletedCssClass = item.Completed == 1 ? "row completed" : "row";
        

        await AddTodoItem(cat, true);
    }

    private async Task AddTodoItem(Category cat, bool isUpdate) {
        newCat = new Category();
        newCat = cat;
        
        List<TodoItem> mydoList = new List<TodoItem>();

        if (!isUpdate) {
            mydoList.Add(new TodoItem(){ItemID=TimeUtils.ToUnixTimeSeconds(), Title=newTodo, Active=1, Sort=1, Completed=0, CompletedCssClass="row"});
        }    

        newTodo = "";    

        //await JSRuntime.InvokeVoidAsync("alert", System.Text.Json.JsonSerializer.Serialize(mydoList)); 

        if (newCat.ToDo != null) {
            foreach (var items in cat.ToDo)
            {   
                mydoList.Add(new TodoItem(){
                    Title=items.Title,                     
                    Active=items.Active, 
                    Sort=items.Sort, 
                    ItemID= items.ItemID, 
                    Completed= items.Completed, 
                    CompletedCssClass=items.CompletedCssClass });
            } 
        }
        
        newCat.ToDo = mydoList; 
        await Http.PutAsJsonAsync<Category>("api/category/"+newCat.CategoryID, newCat);

        await OnInitializedAsync();
        
    }
    public void OnItemDrop()
    {
       // DropedItem = item;
        StateHasChanged();
    }
    public void OnReplacedItemDrop()
    {
       // replacedItem = item;
        StateHasChanged();
    }
 

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
    }
}
#pragma warning restore 1591
